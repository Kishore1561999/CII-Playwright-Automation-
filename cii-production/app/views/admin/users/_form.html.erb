<div class="card">
  <div class="card-body col-md-10 offset-1">
    <%= form_with(model: user, local: true, html: { class: "mb-3", id: "user-form" }) do |f|  %>
      <%= f.hidden_field :approved, :value => true %>

      <div class="col-md-12 row g-3">
        <%= render "shared/error_messages", resource: user %>

        <div class="mb-3 col-md-6">
          <label class="form-label">First Name</label>
          <%= f.text_field :first_name, class: "form-control", placeholder: "Enter first name" %>
        </div>
        <div class="mb-3 col-md-6">
          <label class="form-label">Last Name</label>
          <%= f.text_field :last_name, class: "form-control", placeholder: "Enter last name" %>
        </div>
        <div class="mb-3 col-md-6">
          <label class="form-label">Email</label>
          <%= f.email_field :email, class: "form-control", placeholder: "Enter email" %>
        </div>
        <div class="mb-3 col-md-6">
          <label class="form-label">Mobile</label>
          <%= f.text_field :mobile, class: "form-control number-input", placeholder: "Enter mobile number" %>
        </div>
        <div class="mb-3 col-md-6">
          <label class="form-label">Role</label>
          <%= f.select :role_id, options_for_select(Role.management_roles.collect { |role| ["#{role.role_name.humanize.titleize}", role.id] }, user.role.present? ? user.role.id : ""), { include_blank: "Select role" }, { class: "form-control form-select" } %>
        </div>
        <% if action_name == 'new' || action_name == 'create' %>
          <div class="mb-3 form-password-toggle col-md-6">
            <label class="form-label">Password</label>
            <div class="input-group input-group-merge" id="password_field">
              <%= f.password_field :password, class: "form-control", placeholder: "Enter password" %>
              <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
            </div>
          </div>
          <div class="mb-3 form-password-toggle col-md-6">
            <label class="form-label">Password Confirmation</label>
            <div class="input-group input-group-merge" id="confirm_password_field">
              <%= f.password_field :password_confirmation, class: "form-control", placeholder: "Re-enter password" %>
              <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
            </div>
          </div>
        <% end %>
      </div>

      <div class="col-md-4 offset-4">
        <center>
          <div class="row">
            <div class="col-md-12" style="margin-top: 10px">
              <%= f.submit class: "btn btn-primary" %>
              <%= link_to 'Cancel', url_for(:back), class: "btn btn-secondary", style: "margin-left: 10px" %>
            </div>
          </div>
        </center>
      </div>
    <% end %>
  </div>
</div>
